(this["webpackJsonpreact-assignment"]=this["webpackJsonpreact-assignment"]||[]).push([[0],{22:function(e,a,t){e.exports=t(46)},27:function(e,a,t){},28:function(e,a,t){},46:function(e,a,t){"use strict";t.r(a);var n=t(1),l=t.n(n),r=t(20),s=t.n(r),c=(t(27),t(28),t(7)),i=t(8),m=t(3),o=t(10),u=t(9),d=t(21),E=t(5),p=t.n(E),h=t(6),v=t(4);var g=function(e){return l.a.createElement("div",{className:"task "+e.task.priority},l.a.createElement("div",{class:"delete-task",onClick:function(){return e.deleteTask(e.task.id)}},l.a.createElement("span",null,"\u2573")),l.a.createElement("div",{className:"task-title"},l.a.createElement("h3",null,e.task.title)),e.task.image&&l.a.createElement("div",{className:"task-image"},l.a.createElement("img",{src:"http://localhost:4000/file/"+e.task.image,alt:"task image"})),l.a.createElement("div",{className:"task-info"},l.a.createElement("div",{className:"task-date info-with-icon"},l.a.createElement("span",{className:"icon-bell"},l.a.createElement(v.a,null)),l.a.createElement("span",{className:"icon-check"},l.a.createElement(v.b,null)),l.a.createElement("span",null,e.task.notification)),l.a.createElement("div",{className:"comments info-with-icon"},l.a.createElement("span",null,l.a.createElement(v.c,null)),l.a.createElement("span",null,e.task.comments)),l.a.createElement("div",{className:"attachments info-with-icon"},l.a.createElement("span",null,l.a.createElement(v.d,null)),l.a.createElement("span",null,e.task.attachments)),l.a.createElement("div",{className:"users"},e.task.users.map((function(e){return l.a.createElement("div",{className:"users-icon",key:e.userid},l.a.createElement("img",{src:"http://localhost:4000/file/"+e.usericon,alt:"user"}))})))))},f=function(e){Object(o.a)(t,e);var a=Object(u.a)(t);function t(e){var n;return Object(c.a)(this,t),(n=a.call(this,e)).getUsers=function(){p.a.get("http://localhost:4000/users").then((function(e){var a=e.data;n.setState({users:a})}))},n.submitForm=function(e,a,t){e.preventDefault();var l=n.formToJSON(document.getElementById("add-task-form").elements);console.log(l),p.a.post("http://localhost:4000/add-new-task",{formJSON:l}).then((function(e){"success"==e.data&&(a(),t(),window.scrollTo(0,document.body.scrollHeight))}))},n.formToJSON=function(e){return[].reduce.call(e,(function(e,a){return e[a.name]=a.value,e}),{})},n.state={users:[],formValid:!1},n.getUsers=n.getUsers.bind(Object(m.a)(n)),n}return Object(i.a)(t,[{key:"componentDidMount",value:function(){this.getUsers()}},{key:"render",value:function(){var e=this,a=this.state.users.map((function(e){return l.a.createElement("option",{value:JSON.stringify(e),key:e.userid},e.username)}));return l.a.createElement("div",{className:"new-task-wrapper"},l.a.createElement("div",{className:"add-new-task-form"},l.a.createElement("div",{className:"heading"},l.a.createElement("h2",null,"Create New Task"),l.a.createElement("div",{className:"close-pop-up",onClick:this.props.close},l.a.createElement("span",null,"\u2573"))),l.a.createElement("form",{id:"add-task-form",onSubmit:function(a){e.submitForm(a,e.props.refreshTasks,e.props.close)}},l.a.createElement("input",{type:"hidden",name:"total",value:this.props.total}),l.a.createElement("div",{className:"input-field"},l.a.createElement("label",null,"Title : "),l.a.createElement("input",{type:"text",name:"title",placeholder:"Please enter title",required:!0})),l.a.createElement("div",{className:"input-field"},l.a.createElement("label",null,"Description : "),l.a.createElement("textarea",{type:"text",name:"description",placeholder:"Please enter description",required:!0})),l.a.createElement("div",{className:"input-field"},l.a.createElement("label",null,"Select User : "),l.a.createElement("select",{name:"user",placeholder:"user",required:!0},a)),l.a.createElement("div",{className:"input-field"},l.a.createElement("label",null,"Priority : "),l.a.createElement("select",{name:"priority",placeholder:"priority",required:!0},l.a.createElement("option",{value:"high"},"High"),l.a.createElement("option",{value:"medium"},"Medium"),l.a.createElement("option",{value:"low"},"Low"))),l.a.createElement("div",{className:"submit-btn"},l.a.createElement("button",{type:"submit"},"Add Task")))))}}]),t}(l.a.Component),k=function(e){Object(o.a)(t,e);var a=Object(u.a)(t);function t(e){var n;return Object(c.a)(this,t),(n=a.call(this,e)).getTasksList=function(){p.a.get("http://localhost:4000/task-list").then((function(e){var a=e.data;n.setState({taskData:a})}))},n.onDragOver=function(e){e.preventDefault()},n.dragStart=function(e){n.state.dragObjectId=e.target.id},n.onDrop=function(e){var a=e.currentTarget.id,t=n.state.dragObjectId;p.a.post("http://localhost:4000/update-task",{status:a,id:t}).then((function(e){console.log(e),"success"==e.data&&(n.getTasksList(),window.scrollTo(0,document.body.scrollHeight))}))},n.removeTask=function(e){p.a.post("http://localhost:4000/delete-task",{id:e}).then((function(e){"success"==e.data&&n.getTasksList()}))},n.state={taskData:[],dragObjectId:""},n.onDragOver=n.onDragOver.bind(Object(m.a)(n)),n.dragStart=n.dragStart.bind(Object(m.a)(n)),n.onDrop=n.onDrop.bind(Object(m.a)(n)),n.getTasksList=n.getTasksList.bind(Object(m.a)(n)),n}return Object(i.a)(t,[{key:"componentDidMount",value:function(){this.getTasksList()}},{key:"render",value:function(){var e=this,a=this.state.taskData.filter((function(e){if("todo"===e.status)return e})),t=this.state.taskData.filter((function(e){if("inProgress"===e.status)return e})),n=this.state.taskData.filter((function(e){if("inReview"===e.status)return e})),r=this.state.taskData.filter((function(e){if("done"===e.status)return e}));return l.a.createElement("div",{className:"dashboard"},l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"dashboard-heading"},l.a.createElement("div",{className:"star-icon"},l.a.createElement(h.c,{size:24,color:"#888"})),l.a.createElement("div",{className:"people-count"},l.a.createElement("div",{className:"details"},l.a.createElement("span",null,l.a.createElement(h.d,{size:14})),l.a.createElement("span",null,"6"),l.a.createElement("span",null,"People"))),l.a.createElement("div",{className:"days-left"},l.a.createElement("div",{className:"details"},l.a.createElement("span",null,l.a.createElement(h.b,{size:14})),l.a.createElement("span",null,"2"),l.a.createElement("span",null,"days left"))),l.a.createElement("div",{className:"show-my-tasks"},l.a.createElement("span",null,"Show my tasks only"),l.a.createElement("div",{className:"checkbox"},l.a.createElement("input",{type:"checkbox",id:"my-tasks"}),l.a.createElement("label",{htmlFor:"my-tasks"})))),l.a.createElement("div",{className:"dashboard-data"},l.a.createElement("div",{className:"to-do-tasks tasks-list-wrapper",id:"todo",onDragOver:function(a){return e.onDragOver(a)},onDrop:function(a){return e.onDrop(a)}},l.a.createElement("div",{className:"list-heading"},l.a.createElement("h2",null,"ToDo"),l.a.createElement("div",{className:"more"},l.a.createElement("span",null),l.a.createElement("span",null),l.a.createElement("span",null))),l.a.createElement("div",{className:"tasks-list"},l.a.createElement("ul",null,a.map((function(a){return l.a.createElement("li",{draggable:!0,id:a.id,key:a.id,className:"draggable",onDragStart:function(a){return e.dragStart(a)}},l.a.createElement(g,{task:a,deleteTask:e.removeTask}))}))))),l.a.createElement("div",{className:"in-progress-tasks tasks-list-wrapper",id:"inProgress",onDragOver:function(a){return e.onDragOver(a)},onDrop:function(a){return e.onDrop(a)}},l.a.createElement("div",{className:"list-heading"},l.a.createElement("h2",null,"In Progress"),l.a.createElement("div",{className:"rec"},l.a.createElement("span",{className:"circle"}),l.a.createElement("span",null,"REC")),l.a.createElement("div",{className:"more"},l.a.createElement("span",null),l.a.createElement("span",null),l.a.createElement("span",null))),l.a.createElement("div",{className:"tasks-list"},l.a.createElement("ul",null,t.map((function(a){return l.a.createElement("li",{draggable:!0,id:a.id,key:a.id,className:"draggable",onDragStart:function(a){return e.dragStart(a)}},l.a.createElement(g,{task:a,deleteTask:e.removeTask}))}))))),l.a.createElement("div",{className:"in-review-tasks tasks-list-wrapper",id:"inReview",onDragOver:function(a){return e.onDragOver(a)},onDrop:function(a){return e.onDrop(a)}},l.a.createElement("div",{className:"list-heading"},l.a.createElement("h2",null,"In review"),l.a.createElement("div",{className:"more"},l.a.createElement("span",null),l.a.createElement("span",null),l.a.createElement("span",null))),l.a.createElement("div",{className:"tasks-list"},l.a.createElement("ul",null,n.map((function(a){return l.a.createElement("li",{draggable:!0,id:a.id,key:a.id,className:"draggable",onDragStart:function(a){return e.dragStart(a)}},l.a.createElement(g,{task:a,deleteTask:e.removeTask}))}))))),l.a.createElement("div",{className:"completed-tasks tasks-list-wrapper",id:"done",onDragOver:function(a){return e.onDragOver(a)},onDrop:function(a){return e.onDrop(a)}},l.a.createElement("div",{className:"list-heading"},l.a.createElement("h2",null,"Done"),l.a.createElement("div",{className:"more"},l.a.createElement("span",null),l.a.createElement("span",null),l.a.createElement("span",null))),l.a.createElement("div",{className:"tasks-list"},l.a.createElement("ul",null,r.map((function(a){return l.a.createElement("li",{draggable:!0,id:a.id,key:a.id,className:"draggable",onDragStart:function(a){return e.dragStart(a)}},l.a.createElement(g,{task:a,deleteTask:e.removeTask}))}))))))),l.a.createElement(d.a,{modal:!0,trigger:l.a.createElement("div",{className:"add-new-task"},l.a.createElement("span",null,"\u254b"))},(function(a){return l.a.createElement(f,{total:e.state.taskData.length,refreshTasks:e.getTasksList,close:a})})))}}]),t}(l.a.Component);var N=function(){return l.a.createElement("header",null,l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"all-projects"},l.a.createElement("a",{href:"#"},l.a.createElement("span",null,l.a.createElement(h.a,{size:20})),l.a.createElement("span",null,"All Projects"))),l.a.createElement("div",{className:"heading"},l.a.createElement("h1",null,"Supermassive black hole ",l.a.createElement("span",null))),l.a.createElement("div",{className:"header-links"},l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement("div",{className:"search"},l.a.createElement("img",{src:"http://localhost:4000/file/search.jpg",alt:"search"}))),l.a.createElement("li",null,l.a.createElement("div",{className:"notification"},l.a.createElement("span",{className:"count"},"3"),l.a.createElement("img",{src:"http://localhost:4000/file/bell-icon.png",alt:"bell icon"}))),l.a.createElement("li",null,l.a.createElement("div",{className:"user-image"},l.a.createElement("img",{src:"http://localhost:4000/file/user.jpg",alt:"user image"})))))))};var b=function(){return l.a.createElement("div",{className:"fixed-left-header"},l.a.createElement("div",{className:"fixed-header-items"},l.a.createElement("div",{className:"logo"},l.a.createElement("img",{src:"http://localhost:4000/file/cam.png"})),l.a.createElement("div",{className:"nav-links"},l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement("a",{href:"#"},l.a.createElement("img",{src:"http://localhost:4000/file/cam.png"}))),l.a.createElement("li",null,l.a.createElement("a",{href:"#"},l.a.createElement("img",{src:"http://localhost:4000/file/home.png"}))),l.a.createElement("li",{className:"active"},l.a.createElement("a",{href:"#"},l.a.createElement("img",{src:"http://localhost:4000/file/square.png"}))),l.a.createElement("li",null,l.a.createElement("a",{href:"#"},l.a.createElement("img",{src:"http://localhost:4000/file/user-icon.png"}))),l.a.createElement("li",null,l.a.createElement("a",{href:"#"},l.a.createElement("img",{src:"http://localhost:4000/file/calendar.png"})))))))};var D=function(){return l.a.createElement("div",{className:"wrapper"},l.a.createElement(N,null),l.a.createElement("main",null,l.a.createElement(b,null),l.a.createElement(k,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(D,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[22,1,2]]]);
//# sourceMappingURL=main.29c47381.chunk.js.map